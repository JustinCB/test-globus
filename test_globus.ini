if [ ! "`netstat -lt | awk '$4 ~ /[\.:]((5[01]...)|(gsiftp))$/'`" ]
then
	>&2 echo Globus Connect ports 50000-51000 may be block\'d in your firewall
	>&2 echo Globus will not work if they are block\'d '&' this script will hang
	>&2 echo You may also see this message if globus is down or the server is not yet started or is restarting
fi
if [ ! "`netstat -lt | awk '$4 ~ /[\.:]((http(s*))|(443)|(80))$/'`" ]
then
	>&2 echo "http(s) may be block'd"
	>&2 echo Globus will not work properly if it\'s block\'d
	>&2 echo You may also see this message if the server is down, not yet started, or restarring
fi
UUIDs=`list_uuid`
num_endpoints=`echo $UUIDs | wc -w`
echo "Printing Endpoint Information:"
echo
for i in `seq $num_endpoints`
do
	list_names | awk 'NR=='$i'{print $0":"}'
	echo "	UUID:"
	echo $UUIDs | awk '{print "\t\t"$'$i'}'
	echo "	Type:"
	list_types | awk 'NR=='$i'{print "\t\t"$0}'
	echo "	Collection Display Name:"
	list_collection_names | awk 'NR=='$i'{print "\t\t"$0}'
	if [ "`list_types | awk 'NR=='$i''`" = "POSIX" ]
	then
		echo "	Storage Root:"
		list_roots | awk '{if(NR=='$i')print "\t\t"$0}'
		echo "	Stat:"
		globus_stat "`list_roots | awk 'NR=='$i''`"
	fi
done
list_other_storage_gateways
endpoint_test_helper `get_gcp` $UUIDs
echo
echo

